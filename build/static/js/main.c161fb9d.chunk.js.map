{"version":3,"sources":["components/Filter.js","components/Form.js","components/Entry.js","components/List.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchValue","setSearchValue","onChange","e","target","value","Form","handleSubmit","handleNameChange","handlePhoneChange","newName","newNumber","onSubmit","type","style","margin","display","Entry","person","name","number","id","List","personsDisplay","onDelete","map","onClick","marginLeft","baseUrl","get","a","axios","res","data","create","newPerson","post","response","status","error","remove","delete","update","put","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","notificationMsg","setNotificationMsg","notificationType","setNotificationType","refreshList","useEffect","err","console","getData","handleDelete","personToBeDeleted","find","window","confirm","preventDefault","some","personToUpdate","displayMessage","concat","filter","toLowerCase","includes","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c161fb9d.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ searchValue, setSearchValue }) => {\n  return (\n    <div>\n      Filter shown with{' '}\n      <input\n        onChange={(e) => setSearchValue(e.target.value)}\n        value={searchValue}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Form = ({\n  handleSubmit,\n  handleNameChange,\n  handlePhoneChange,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input onChange={(e) => handleNameChange(e)} value={newName} />\n      </div>\n      <div>\n        number:{' '}\n        <input onChange={(e) => handlePhoneChange(e)} value={newNumber} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from 'react';\n\nconst style = {\n  margin: 0,\n  display: 'inline-block',\n};\nconst Entry = ({ person }) => {\n  return (\n    <p style={style} key={person.id}>\n      {person.name} {person.number}\n    </p>\n  );\n};\n\nexport default Entry;\n","import React from 'react';\nimport Entry from './Entry';\n\nconst List = ({ personsDisplay, onDelete }) => {\n  return (\n    <>\n      <h2>Numbers</h2>\n      {personsDisplay.map(person => (\n        <div key={person.id}>\n          <Entry person={person} />\n          <button onClick={() => onDelete(person.id)} style={{ marginLeft: 8 }}>\n            Delete\n          </button>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default List;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst get = async () => {\n  const res = await axios.get(baseUrl)\n  return res.data\n}\n\nconst create = async newPerson => {\n  try {\n    const res = await axios.post(baseUrl, newPerson)\n    return res.data\n  } catch (err) {\n    throw err.response.status === 409\n      ? err.response.data\n      : { error: 'Bad request' }\n  }\n}\n\nconst remove = async id => {\n  const res = await axios.delete(`${baseUrl}/${id}`)\n  return res\n}\n\nconst update = async person => {\n  try {\n    const res = await axios.put(`${baseUrl}/${person.id}`, person)\n    return res\n  } catch (err) {\n    throw err.response.status === 409\n      ? err.response.data\n      : { error: 'Bad request' }\n  }\n}\n\nexport { create, remove, get, update }\n","import React from 'react';\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={type}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport List from './components/List'\nimport { create, get, remove, update } from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchValue, setSearchValue] = useState('')\n  const [notificationMsg, setNotificationMsg] = useState(null)\n  const [notificationType, setNotificationType] = useState('')\n\n  const refreshList = async () => {\n    setPersons(await get())\n  }\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        refreshList()\n      } catch (err) {\n        console.error(err)\n      }\n    }\n    getData()\n  }, [])\n\n  const handleNameChange = e => {\n    setNewName(e.target.value)\n  }\n\n  const handlePhoneChange = e => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleDelete = async id => {\n    const personToBeDeleted = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${personToBeDeleted.name}?`)) {\n      try {\n        await remove(id)\n        refreshList()\n      } catch (err) {\n        console.error(err)\n      }\n    }\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n    if (persons.some(e => e.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        const newPerson = { ...personToUpdate, number: newNumber }\n        try {\n          await update(newPerson)\n          displayMessage(newPerson, 'update')\n        } catch (err) {\n          displayMessage(err, 'serverError')\n        } finally {\n          refreshList()\n          setNewName('')\n          setNewNumber('')\n        }\n      }\n    } else {\n      try {\n        const newPerson = { name: newName, number: newNumber }\n        const data = await create(newPerson)\n        setPersons(persons.concat(data))\n        displayMessage(data)\n        setNewName('')\n        setNewNumber('')\n      } catch (err) {\n        displayMessage(err, 'serverError')\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n  }\n\n  const personsDisplay = searchValue\n    ? persons.filter(person =>\n        person.name.toLowerCase().includes(searchValue.toLowerCase())\n      )\n    : persons\n\n  const displayMessage = (person, type) => {\n    if (type === 'update') {\n      setNotificationMsg(`Updated ${person.name}`)\n      setNotificationType('success')\n    } else if (type === 'serverError') {\n      setNotificationMsg(`${person.error}`)\n      setNotificationType('error')\n    } else if (type === 'error') {\n      setNotificationMsg(\n        `Information concerning ${person.name} has already been removed from the server`\n      )\n      setNotificationType('error')\n    } else {\n      setNotificationMsg(`Added ${person.name}`)\n      setNotificationType('success')\n    }\n\n    setTimeout(() => setNotificationMsg(null), 5000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMsg} type={notificationType} />\n      <Filter searchValue={searchValue} setSearchValue={setSearchValue} />\n\n      <Form\n        handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handlePhoneChange={handlePhoneChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <List personsDisplay={personsDisplay} onDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}